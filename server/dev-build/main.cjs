(()=>{"use strict";var e,r,t,o,n={582:e=>{e.exports=require("cors")},142:e=>{e.exports=require("dotenv")},860:e=>{e.exports=require("express")},344:e=>{e.exports=require("jsonwebtoken")},185:e=>{e.exports=require("mongoose")},753:(e,r,t)=>{t.a(e,(async(e,r)=>{try{var o=t(860),n=t(142),s=t(814),a=t(582),c=e([s]);s=(c.then?(await c)():c)[0],n.config();const i=o();i.use(o.json()),i.use(a());const p=process.env.PORT;i.use("/api",s.Z),i.listen(p),r()}catch(e){r(e)}}))},995:(e,r,t)=>{t.a(e,(async(e,o)=>{try{t.d(r,{Z:()=>p});var n=t(860),s=t(344),a=t(647),c=e([a]);a=(c.then?(await c)():c)[0],n();const i=process.env.SERECT_KEY,p={login:async(e,r)=>{const t=e.body;e.headers;try{const e=a.Z.collection("user_login"),o=await e.find(t).toArray();if(0===o.length)return r.status(201).send("User not valid"),!1;const{name:n,email:c,login_id:p,role:u}=o[0],d={name:n,email:c,login_id:p,role:u},l=s.sign(d,i,{expiresIn:86400});r.status(200).send(l)}catch(e){console.error("Error while accessing the database:",e),r.status(500).send("Internal Server Error")}},verify_token:async(e,r)=>{const t=e.headers.authorization;try{const e=s.verify(t,i,!0);r.status(200).send(e)}catch(e){"TokenExpiredError"===e.name?r.status(201).send("Token Expired"):r.status(201).send("Token Not Valid")}},testAPI:(e,r)=>{r.status(200).send({name:"avez",age:"21"})}};o()}catch(e){o(e)}}))},647:(e,r,t)=>{t.a(e,(async(e,o)=>{try{t.d(r,{Z:()=>c});var n=t(142),s=t(185);n.config();const e=process.env.MONGODB_URI,a=s.connect(e,{useNewUrlParser:!0,useUnifiedTopology:!0}).then((e=>(console.log("Connected to MongoDB"),e))).catch((e=>{throw console.error("MongoDB connection error:",e),e})),c=(await a).connection.db;o()}catch(e){o(e)}}),1)},814:(e,r,t)=>{t.a(e,(async(e,o)=>{try{t.d(r,{Z:()=>i});var n=t(860),s=t(995),a=(t(142),e([s]));s=(a.then?(await a)():a)[0],n();const c=n.Router();c.post("/login",s.Z.login),c.get("/verify",s.Z.verify_token),c.post("/test",s.Z.testAPI);const i=c;o()}catch(e){o(e)}}))}},s={};function a(e){var r=s[e];if(void 0!==r)return r.exports;var t=s[e]={exports:{}};return n[e](t,t.exports,a),t.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",r="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",t="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",o=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a.a=(n,s,a)=>{var c;a&&((c=[]).d=-1);var i,p,u,d=new Set,l=n.exports,y=new Promise(((e,r)=>{u=r,p=e}));y[r]=l,y[e]=e=>(c&&e(c),d.forEach(e),y.catch((e=>{}))),n.exports=y,s((n=>{var s;i=(n=>n.map((n=>{if(null!==n&&"object"==typeof n){if(n[e])return n;if(n.then){var s=[];s.d=0,n.then((e=>{a[r]=e,o(s)}),(e=>{a[t]=e,o(s)}));var a={};return a[e]=e=>e(s),a}}var c={};return c[e]=e=>{},c[r]=n,c})))(n);var a=()=>i.map((e=>{if(e[t])throw e[t];return e[r]})),p=new Promise((r=>{(s=()=>r(a)).r=0;var t=e=>e!==c&&!d.has(e)&&(d.add(e),e&&!e.d&&(s.r++,e.push(s)));i.map((r=>r[e](t)))}));return s.r?p:a()}),(e=>(e?u(y[t]=e):p(l),o(c)))),c&&c.d<0&&(c.d=0)},a.d=(e,r)=>{for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},a.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),a(753)})();